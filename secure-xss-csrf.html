<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)">
<meta name="generator" content="Hexo 6.0.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"scarboroughcoral.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.9.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>
<meta name="description" content="XSSã€CSRF">
<meta property="og:type" content="article">
<meta property="og:title" content="Webå®‰å…¨ç³»åˆ—ï¼šXSSå’ŒCSRF">
<meta property="og:url" content="https://scarboroughcoral.github.io/secure-xss-csrf.html">
<meta property="og:site_name" content="ææ˜å²³çš„ç¡¬æ ¸æŠ€æœ¯æ—¥å¿—">
<meta property="og:description" content="XSSã€CSRF">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-11-18T16:33:05.000Z">
<meta property="article:modified_time" content="2022-01-04T12:31:09.832Z">
<meta property="article:author" content="ææ˜å²³">
<meta property="article:tag" content="Security">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://scarboroughcoral.github.io/secure-xss-csrf.html">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://scarboroughcoral.github.io/secure-xss-csrf.html","path":"secure-xss-csrf.html","title":"Webå®‰å…¨ç³»åˆ—ï¼šXSSå’ŒCSRF"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Webå®‰å…¨ç³»åˆ—ï¼šXSSå’ŒCSRF | ææ˜å²³çš„ç¡¬æ ¸æŠ€æœ¯æ—¥å¿—</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">ææ˜å²³çš„ç¡¬æ ¸æŠ€æœ¯æ—¥å¿—</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">å‰è¨€</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#XSS"><span class="nav-number">2.</span> <span class="nav-text">XSS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81XSS%E5%88%86%E7%B1%BB"><span class="nav-number">2.1.</span> <span class="nav-text">å¸¸è§XSSåˆ†ç±»</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#XSS%E6%B3%A8%E5%85%A5%E6%96%B9%E5%BC%8F"><span class="nav-number">2.2.</span> <span class="nav-text">XSSæ³¨å…¥æ–¹å¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#XSS%E9%81%BF%E5%85%8D"><span class="nav-number">2.3.</span> <span class="nav-text">XSSé¿å…</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#XSS-Game%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9"><span class="nav-number">2.4.</span> <span class="nav-text">XSS Gameå®éªŒå†…å®¹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#level1"><span class="nav-number">2.4.1.</span> <span class="nav-text">level1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#level2"><span class="nav-number">2.4.2.</span> <span class="nav-text">level2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#level3"><span class="nav-number">2.4.3.</span> <span class="nav-text">level3</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#level4"><span class="nav-number">2.4.4.</span> <span class="nav-text">level4</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#level5"><span class="nav-number">2.4.5.</span> <span class="nav-text">level5</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#level6"><span class="nav-number">2.4.6.</span> <span class="nav-text">level6</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CSRF"><span class="nav-number">3.</span> <span class="nav-text">CSRF</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91%E4%B8%8A%E7%9A%84%E4%BE%8B%E5%AD%90"><span class="nav-number">3.1.</span> <span class="nav-text">ç»´åŸºç™¾ç§‘ä¸Šçš„ä¾‹å­</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A2%84%E9%98%B2"><span class="nav-number">3.2.</span> <span class="nav-text">é¢„é˜²</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reference"><span class="nav-number">4.</span> <span class="nav-text">Reference</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">ææ˜å²³</p>
  <div class="site-description" itemprop="description">ç¡¬æ ¸æŠ€æœ¯ç©å®¶ğŸ˜</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">60</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">34</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/ScarboroughCoral" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;ScarboroughCoral" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://scarboroughcoral.github.io/secure-xss-csrf.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ææ˜å²³">
      <meta itemprop="description" content="ç¡¬æ ¸æŠ€æœ¯ç©å®¶ğŸ˜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ææ˜å²³çš„ç¡¬æ ¸æŠ€æœ¯æ—¥å¿—">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Webå®‰å…¨ç³»åˆ—ï¼šXSSå’ŒCSRF
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2019-11-18 16:33:05" itemprop="dateCreated datePublished" datetime="2019-11-18T16:33:05+00:00">2019-11-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-01-04 12:31:09" itemprop="dateModified" datetime="2022-01-04T12:31:09+00:00">2022-01-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Security/" itemprop="url" rel="index"><span itemprop="name">Security</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <div class="note primary"><p>XSSã€CSRF</p>
</div>

<span id="more"></span>

<hr>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Webåº”ç”¨çš„å®‰å…¨é—®é¢˜ä¹Ÿæ˜¯ä¸€ä¸ªwebå¼€å‘äººå‘˜éœ€è¦äº†è§£çš„äº‹ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥çœ‹ä¸€çœ‹å¸¸è§çš„ä¸¤ç§å®‰å…¨é—®é¢˜ï¼Œ<code>XSS</code>å’Œ<code>CSRF</code>ã€‚</p>
<p><strong>å› ä¸ºå¯¹å®‰å…¨é—®é¢˜ä¸å¤Ÿç†Ÿæ‚‰ï¼Œè¯»è€…å¦‚æœå‘ç°é—®é¢˜è¯·å³ä¸‹è§’å°çª—ç§èŠæˆ–æ–‡ç« å³ä¸Šè§’ä¿®æ”¹æŒ‰é’®githubæäº¤prã€‚</strong></p>
<p>å¤§ä½“å†…å®¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>XSS<ul>
<li>ä»€ä¹ˆæ˜¯XSS</li>
<li>XSSåˆ†ç±»</li>
<li>XSSå®ä¾‹</li>
<li>XSSé¿å…</li>
</ul>
</li>
<li>CSRF<ul>
<li>ä»€ä¹ˆæ˜¯CSRF</li>
<li>CSRFå®ä¾‹</li>
<li>CSRFé¿å…</li>
</ul>
</li>
</ul>
<h2 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h2><blockquote>
<p>Cross-site scripting (XSS) bugs are one of the most common and dangerous types of vulnerabilities in Web applications.These nasty buggers can allow your enemies to steal or modify user data in your apps.</p>
</blockquote>
<p>é€šè¿‡è¿™ä¸ª<a target="_blank" rel="noopener" href="https://xss-game.appspot.com/">å°å®éªŒï¼ˆæ¸¸æˆï¼‰</a>ï¼Œä½ å°±å¯ä»¥å¤§è‡´äº†è§£ä¸€ä¸‹XSSæ˜¯ä¸€ä¸ªä»€ä¹ˆä¸œè¥¿äº†ã€‚</p>
<p>è®¤è¯†çš„ä¸€ä¸ªå¤§ä½¬ä¹Ÿå†™è¿‡ä¸€ç¯‡<a target="_blank" rel="noopener" href="https://orzbox.github.io/our-tech/#/articles/XSS-Explain-1">XSSæ–‡ç« </a>ï¼Œå¯ä»¥å½“åšå‚è€ƒã€‚</p>
<p>åšäº†ä¸€ä¸‹è¿™ä¸ªå®éªŒï¼Œå‹‰å‹‰å¼ºå¼ºç®—æ˜¯é€šå…³äº†ã€‚</p>
<p>åœ¨è¿™ä¸ªXSS Gameä¸­åšäº†ä»€ä¹ˆï¼Ÿ<strong>æ•´ä½“æ„Ÿè§‰å°±æ˜¯ä»å®¢æˆ·ç«¯æ‰¾æ¼æ´ï¼ˆçœ‹ç½‘é¡µæºç ï¼ŒJSã€HTMLï¼‰ï¼Œç„¶åé€šè¿‡è¡¨å•æˆ–è€…urlæ³¨å…¥è„šæœ¬æˆ–è€…ä¸€äº›å…¶ä»–ç¬¬ä¸‰æ–¹è„šæœ¬ã€‚</strong></p>
<blockquote>
<p>Cross-site scripting carried out on websites accounted for roughly 84% of all security vulnerabilities documented by Symantec up until 2007.ï¼ˆWikipediaï¼‰</p>
</blockquote>
<h3 id="å¸¸è§XSSåˆ†ç±»"><a href="#å¸¸è§XSSåˆ†ç±»" class="headerlink" title="å¸¸è§XSSåˆ†ç±»"></a>å¸¸è§XSSåˆ†ç±»</h3><ul>
<li>Stored XSS Attacksï¼šæŒä¹…æ³¨å…¥ï¼Œæ³¨å…¥æ•°æ®åº“</li>
<li>Reflected XSS Attacks:æ³¨å…¥çš„æ•°æ®ä¼šç”±æœåŠ¡å™¨è¿”å›æˆ–è€…ç›´æ¥è·³è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢æ˜¾ç¤º</li>
<li>DOM-based XSS Attacksï¼šä¿®æ”¹DOM</li>
</ul>
<h3 id="XSSæ³¨å…¥æ–¹å¼"><a href="#XSSæ³¨å…¥æ–¹å¼" class="headerlink" title="XSSæ³¨å…¥æ–¹å¼"></a>XSSæ³¨å…¥æ–¹å¼</h3><ul>
<li>è¡¨å•æ³¨å…¥</li>
<li>URLæ³¨å…¥</li>
<li>å¼•ç”¨å¤–éƒ¨è„šæœ¬</li>
</ul>
<h3 id="XSSé¿å…"><a href="#XSSé¿å…" class="headerlink" title="XSSé¿å…"></a>XSSé¿å…</h3><ul>
<li>åŒæºç­–ç•¥</li>
<li>ç™½åå•ç­–ç•¥ï¼ˆå†…å®¹å®‰å…¨ç­–ç•¥ï¼ŒContent Safe Policyï¼‰</li>
<li>è¡¨å•éªŒè¯</li>
<li>æ‹¼å‡‘å­—ç¬¦ä¸²æ—¶éªŒè¯æ¥è‡ªquerystringçš„å˜é‡</li>
</ul>
<h3 id="XSS-Gameå®éªŒå†…å®¹"><a href="#XSS-Gameå®éªŒå†…å®¹" class="headerlink" title="XSS Gameå®éªŒå†…å®¹"></a>XSS Gameå®éªŒå†…å®¹</h3><p>å¤§ä½“è®°å½•ä¸€ä¸‹å®éªŒå†…å®¹å§ã€‚</p>
<h4 id="level1"><a href="#level1" class="headerlink" title="level1"></a>level1</h4><p>ä¸€ä¸ªæäº¤è¡¨å•çš„é¡µé¢ï¼Œè¾“å…¥æ•°æ®dataå¹¶æäº¤ã€‚<br>è§‚å¯Ÿpyä»£ç å¯ä»¥çœ‹åˆ°ä»–ä¼šå°†dataæ¸²æŸ“åˆ°é¡µé¢å†…ï¼Œé‚£ä¹ˆæˆ‘å¯ä»¥è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(1)<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>OKï¼ŒHello World to XSSå°±å®Œæˆäº†ã€‚</p>
<h4 id="level2"><a href="#level2" class="headerlink" title="level2"></a>level2</h4><p>ä¸€ä¸ªå‘é€è¯„è®ºçš„é¡µé¢ã€‚<br>é€šè¿‡è§‚å¯Ÿæºç ï¼Œå‘ç°ä»–ä¹Ÿä¼šå°†è¾“å…¥çš„æ•°æ®dataç›´æ¥æ˜¾ç¤ºå‡ºæ¥ã€‚</p>
<p>ä½†æ˜¯è¿™æ—¶å€™ä½¿ç”¨level1ä¸­çš„æ–¹æ³•å·²ç»ä¸ç®¡ç”¨äº†ï¼ˆå¯èƒ½æ˜¯å› ä¸ºé¡µé¢å·²ç»åŠ è½½å®Œäº†ï¼Œæ— æ³•æ‰§è¡Œscriptè„šæœ¬</p>
<p>ä½†æ˜¯æˆ‘å¯ä»¥é€šè¿‡å¦‚ä¸‹ä»£ç æ¥å®ç°ï¼Œæ’å…¥ä¸€ä¸ªæ— æ•ˆå›¾ç‰‡ï¼Œé€šè¿‡onerroræ–¹æ³•æ¥æ‰§è¡Œè„šæœ¬ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">onerror</span>=<span class="string">&quot;alert(1)&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>level2 is overï¼</p>
<h4 id="level3"><a href="#level3" class="headerlink" title="level3"></a>level3</h4><p>æ²¡æœ‰å¯è¾“å…¥çš„è¡¨å•ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡URLè¾“å…¥ï¼Œæœ‰ä¸ªå“ˆå¸Œå‚æ•°ç”¨äºå›¾ç‰‡æ˜¾ç¤ºã€‚</p>
<p>é€šè¿‡è§‚å¯Ÿæºç ï¼Œå‘ç°ä»–å°†urlè¾“å…¥çš„æ•°å­—ç¼–å·é€šè¿‡imgæ ‡ç­¾è¿›è¡Œæ‹¼æ¥äº†ï¼ˆnumå°±æ˜¯æˆ‘ä»¬è¾“å…¥çš„æ•°ï¼‰ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">html += &quot;<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;/static/level3/cloud&quot; + num + &quot;.jpg&#x27;</span> /&gt;</span>&quot;;</span><br></pre></td></tr></table></figure>

<p>é‚£æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹ä»£ç æ¥å°é—­æ ‡ç­¾ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">https://xss-game.appspot.com/level3/frame#x&#x27; onerror=&#x27;alert(&quot;xss&quot;)&#x27;&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å®Œæˆï¼</p>
<h4 id="level4"><a href="#level4" class="headerlink" title="level4"></a>level4</h4><p>ä¸€ä¸ªè¾“å…¥è¡¨å•æ•°æ®timerï¼Œç„¶åæäº¤ã€‚</p>
<p>é€šè¿‡æŸ¥çœ‹pyä»£ç ï¼Œå‘ç°ä»–çš„æ•°æ®æ¸²æŸ“éƒ¨åˆ†ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;/static/loading.gif&quot; onload=&quot;startTimer(&#x27;&#123;&#123; timer &#125;&#125;&#x27;);&quot; /&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åˆ©ç”¨å°é—­æ ‡ç­¾ï¼Œè¾“å…¥å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x27;);alert(&#x27;xss</span><br><span class="line"></span><br><span class="line">æ¨¡æ¿æ¸²æŸ“åï¼šonload=&quot;startTimer(&#x27;&#x27;);alert(&#x27;xss&#x27;);&quot;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å°±å®Œæˆäº†ã€‚</p>
<h4 id="level5"><a href="#level5" class="headerlink" title="level5"></a>level5</h4><p>è§‚å¯Ÿæºç æœ‰ä¸€ä¸ªaæ ‡ç­¾æ˜¯é€šè¿‡æ¨¡æ¿æ¸²æŸ“çš„:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&#123;&#123; next &#125;&#125;&quot;</span>&gt;</span>Next &gt;&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œä½¿ç”¨aæ ‡ç­¾çš„ä¼ªåè®®æ¥å®Œæˆï¼Œæˆ‘ä»¬å¯ä»¥è¾“å…¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://xss-game.appspot.com/level5/frame/signup?next=javascript:alert(1)</span><br><span class="line"></span><br><span class="line">æ¨¡æ¿æ¸²æŸ“åï¼š<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:alert(1)&quot;</span>&gt;</span>Next &gt;&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="level6"><a href="#level6" class="headerlink" title="level6"></a>level6</h4><p>å¯ä»¥é€šè¿‡URLè¯·æ±‚å…¶ä»–æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡dataåè®®ï¼ˆ<code>data:text/plain,alert(&#39;s&#39;)</code>ï¼‰åˆ›å»ºä¸€ä¸ªç®€å•çš„æ–‡æœ¬ã€‚</p>
<p>ç»“æœï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://xss-game.appspot.com/level6/frame#data:text/plain,alert(&#x27;xss&#x27;)</span><br></pre></td></tr></table></figure>

<h2 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h2><blockquote>
<p>è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆè‹±è¯­ï¼šCross-site request forgeryï¼‰ï¼Œä¹Ÿè¢«ç§°ä¸º one-click attack æˆ–è€… session ridingï¼Œé€šå¸¸ç¼©å†™ä¸º CSRF æˆ–è€… XSRFï¼Œ æ˜¯ä¸€ç§æŒŸåˆ¶ç”¨æˆ·åœ¨å½“å‰å·²ç™»å½•çš„Webåº”ç”¨ç¨‹åºä¸Šæ‰§è¡Œéæœ¬æ„çš„æ“ä½œçš„æ”»å‡»æ–¹æ³•ã€‚è·Ÿè·¨ç½‘ç«™è„šæœ¬ï¼ˆXSSï¼‰ç›¸æ¯”ï¼ŒXSS åˆ©ç”¨çš„æ˜¯ç”¨æˆ·å¯¹æŒ‡å®šç½‘ç«™çš„ä¿¡ä»»ï¼ŒCSRF åˆ©ç”¨çš„æ˜¯ç½‘ç«™å¯¹ç”¨æˆ·ç½‘é¡µæµè§ˆå™¨çš„ä¿¡ä»»ã€‚ï¼ˆWikipediaï¼‰</p>
</blockquote>
<p>é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æ”»å‡»è€…ä¼ªé€ è¯·æ±‚ã€‚å‡å¦‚è¯´ç”¨æˆ·åœ¨Aç½‘ç«™ç™»å½•äº†ï¼Œè¿™æ—¶å€™æµè§ˆå™¨ä¿å­˜äº†ç™»å½•ä¿¡æ¯ï¼Œè¿™æ®µæ—¶é—´å†…ç”¨æˆ·åˆè®¿é—®äº†Bç½‘ç«™ï¼ŒBç½‘ç«™å†…å­˜åœ¨ä¸€ä¸ªAç½‘ç«™åˆ™è¯·æ±‚ï¼ˆè¿™ä¸ªè¯·æ±‚æ˜¯æ”»å‡»è€…ä¼ªé€ çš„ï¼‰ï¼Œè¿™æ ·å°±å±äºè·¨ç«™è¯·æ±‚ä¼ªé€ ã€‚</p>
<h3 id="ç»´åŸºç™¾ç§‘ä¸Šçš„ä¾‹å­"><a href="#ç»´åŸºç™¾ç§‘ä¸Šçš„ä¾‹å­" class="headerlink" title="ç»´åŸºç™¾ç§‘ä¸Šçš„ä¾‹å­"></a>ç»´åŸºç™¾ç§‘ä¸Šçš„ä¾‹å­</h3><p>å‰ææ˜¯æ²¡æœ‰åŒæºç­–ç•¥ï¼ŒAttackersæ‰èƒ½ä½¿ç”¨é“¶è¡Œçš„ç™»å½•ä¿¡æ¯ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">å‡å¦‚ä¸€å®¶é“¶è¡Œç”¨ä»¥è¿è¡Œè½¬è´¦æ“ä½œçš„URLåœ°å€å¦‚ä¸‹ï¼š http://www.examplebank.com/withdraw?account=AccoutName&amp;amount=1000&amp;for=PayeeName</span><br><span class="line"></span><br><span class="line">é‚£ä¹ˆï¼Œä¸€ä¸ªæ¶æ„æ”»å‡»è€…å¯ä»¥åœ¨å¦ä¸€ä¸ªç½‘ç«™ä¸Šæ”¾ç½®å¦‚ä¸‹ä»£ç ï¼š <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;http://www.examplebank.com/withdraw?account=Alice&amp;amount=1000&amp;for=Badman&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">å¦‚æœæœ‰è´¦æˆ·åä¸ºAliceçš„ç”¨æˆ·è®¿é—®äº†æ¶æ„ç«™ç‚¹ï¼Œè€Œå¥¹ä¹‹å‰åˆšè®¿é—®è¿‡é“¶è¡Œä¸ä¹…ï¼Œç™»å½•ä¿¡æ¯å°šæœªè¿‡æœŸï¼Œé‚£ä¹ˆå¥¹å°±ä¼šæŸå¤±1000èµ„é‡‘ã€‚</span><br><span class="line"></span><br><span class="line">è¿™ç§æ¶æ„çš„ç½‘å€å¯ä»¥æœ‰å¾ˆå¤šç§å½¢å¼ï¼Œè—èº«äºç½‘é¡µä¸­çš„è®¸å¤šåœ°æ–¹ã€‚æ­¤å¤–ï¼Œæ”»å‡»è€…ä¹Ÿä¸éœ€è¦æ§åˆ¶æ”¾ç½®æ¶æ„ç½‘å€çš„ç½‘ç«™ã€‚ä¾‹å¦‚ä»–å¯ä»¥å°†è¿™ç§åœ°å€è—åœ¨è®ºå›ï¼Œåšå®¢ç­‰ä»»ä½•ç”¨æˆ·ç”Ÿæˆå†…å®¹çš„ç½‘ç«™ä¸­ã€‚è¿™æ„å‘³ç€å¦‚æœæœåŠ¡ç«¯æ²¡æœ‰åˆé€‚çš„é˜²å¾¡æªæ–½çš„è¯ï¼Œç”¨æˆ·å³ä½¿è®¿é—®ç†Ÿæ‚‰çš„å¯ä¿¡ç½‘ç«™ä¹Ÿæœ‰å—æ”»å‡»çš„å±é™©ã€‚</span><br><span class="line"></span><br><span class="line">é€è¿‡ä¾‹å­èƒ½å¤Ÿçœ‹å‡ºï¼Œæ”»å‡»è€…å¹¶ä¸èƒ½é€šè¿‡CSRFæ”»å‡»æ¥ç›´æ¥è·å–ç”¨æˆ·çš„è´¦æˆ·æ§åˆ¶æƒï¼Œä¹Ÿä¸èƒ½ç›´æ¥çªƒå–ç”¨æˆ·çš„ä»»ä½•ä¿¡æ¯ã€‚ä»–ä»¬èƒ½åšåˆ°çš„ï¼Œæ˜¯æ¬ºéª—ç”¨æˆ·æµè§ˆå™¨ï¼Œè®©å…¶ä»¥ç”¨æˆ·çš„åä¹‰è¿è¡Œæ“ä½œã€‚</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºåŒæºç­–ç•¥ä¸å…è®¸è¯»å–å…¶ä»–æºçš„cookieï¼Œæ‰€ä»¥å¦‚ä½•å®Œæˆæ”»å‡»å‘¢ï¼Ÿ<br>å¦‚æœå¯ä»¥ï¼Œä½¿ç”¨XSSæ”»å‡»åŠ CSRFæ”»å‡»å°±å¯ä»¥å¾ˆå¥½çš„å®Œæˆã€‚é¦–å…ˆä½¿ç”¨storedçš„XSSæ³¨å…¥åˆ°æ•°æ®åº“ï¼Œç„¶åæ˜¾ç¤ºåˆ°é“¶è¡Œçš„ç½‘é¡µï¼Œæ­¤æ—¶victimä¸å°å¿ƒç‚¹å‡»çš„è¿™ä¸ªæ ‡ç­¾ï¼Œå°±ä¼šå‘èµ·è¯·æ±‚äº†ã€‚</p>
<h3 id="é¢„é˜²"><a href="#é¢„é˜²" class="headerlink" title="é¢„é˜²"></a>é¢„é˜²</h3><ul>
<li>æ£€æŸ¥Refererå­—æ®µï¼Œå‘èµ·è¯·æ±‚çš„æ¥æºã€‚å­˜åœ¨å®¢æˆ·ç«¯ä¼ªé€ Refererçš„å¯èƒ½</li>
<li>æ·»åŠ æ ¡éªŒtokenï¼ˆä¼ªéšæœºæ•°ï¼‰</li>
</ul>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a target="_blank" rel="noopener" href="https://xss-game.appspot.com/">Warning: You are entering the XSS game area</a></li>
<li><a target="_blank" rel="noopener" href="https://orzbox.github.io/our-tech/#/articles/XSS-Explain-1">XSSè·¨ç«™è„šæœ¬æ”»å‡»æ¢è®¨æ€»ç»“</a></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Cross-site_scripting">Cross-site scripting</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0">è·¨ç«™è¯·æ±‚ä¼ªé€ </a></li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Security/" rel="tag"><i class="fa fa-tag"></i> Security</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/css-align-center.html" rel="prev" title="CSSç³»åˆ—ï¼šå¯¹é½">
                  <i class="fa fa-chevron-left"></i> CSSç³»åˆ—ï¼šå¯¹é½
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/js-taskqueue.html" rel="next" title="ç”¨JavaScriptå®ç°ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—">
                  ç”¨JavaScriptå®ç°ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ— <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ææ˜å²³</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdn.jsdelivr.net/npm/ribbon.js@1.0.2/dist/ribbon.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>


  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
